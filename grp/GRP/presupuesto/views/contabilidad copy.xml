<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Add presupuesto a  movimientos contables view existente  -->
        <record model="ir.ui.view" id="movimientos_contables_form_view">
            <field name="name">account.move</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">
                <xpath expr="/form/header/button[@name='button_cancel']" position="after">
                    <button name="print_poliza" type="object" string="Imprimir Poliza" class="oe_highlight" groups="account.group_account_invoice"/>
                    <button name="print_poliza_contable" type="object" string="Poliza contable" class="oe_highlight" groups="account.group_account_invoice"/>
                </xpath>
                <xpath expr="//field[@name='ref']" position="after">
                    <field name="documento_id"/>
                    <field name="ley_ingresos" string="Ley de ingreos"/>
                </xpath>
                <xpath expr="//field[@name='documento_id']" position="after">
                    <field name="compra_id" string="Compra" />
                    <field name="partida" string="Partida" />
                </xpath>
                <xpath expr="//field[@name='narration']" position="after">
                    <field name="concepto" string="Concepto" colspan="4" placeholder="Agregar detalle del concepto..." nolabel="0" height="50" />
                </xpath>
                <xpath expr="//field[@name='concepto']" position="after">
                    <group>
                        <field name="elaboro" string="Elaboró" />
                        <field name="reviso" string="Revisó" />
                        <field name="vobo" string="Vo. Bo." />
                        <field name="autorizo" string="Autorizó" />
                    </group>
                </xpath>
                <notebook position="inside">
                    <page string="Opciones">
                        <group>
                            <group>
                                <field name="type_move_poliza" string="Tipo de poliza" invisible="1"/>
                            </group>
                        </group>
                    </page>
                </notebook>
            </field>
        </record>
        <record model="ir.ui.view" id="movimientos_contables_tree_view">
            <field name="name">account.move.tree</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_tree"/>
            <field name="arch" type="xml">
                <xpath expr="/tree/field[@name='date']" position="after">
                    <field name="partida"/>
                </xpath>
            </field>
        </record>

        <!-- Add presupuesto a facturacion view existente  -->
        <record model="ir.ui.view" id="facturacion_form_view">
            <field name="name">account.invoice</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='journal_id']" position="before">
                    <field name="type_invoice" string="Es una donación" />
                    <field name="archivo_factura" />
                </xpath>
                <xpath expr="//field[@name='date']" position="after">
                    <field name="litros"/>
                    <field name="vatios"/>
                    <field name="periodo_inicio" string="Periodo Facturado:"/>
                    <field name="periodo_fin" string="a"/>
                </xpath>
                <xpath expr="//field[@name='number']" position="after">
                <div class="oe_button_box" name="button_box">
                <button type="object"
                            class="oe_stat_button"
                            icon="fa-book" name="status_momento_conta" placeholder="Asiento C.">
                            <a>Asiento C.</a>
                </button>
                <button type="object"  name="new_clc"
                            class="oe_stat_button"
                            icon="fa-user">
                            <field name="clcs_count" widget="statinfo" />
                            <field name='cla_line' invisible="1"/>
                        </button> 
                <button name="toggle_provision" type="object"
                        class="oe_stat_button" icon="fa-file">
                    <field name="provision" widget="boolean_button"
                        options='{"terminology": {
                                "string_true": "Provisión",
                                "hover_true": "No es provisión",
                                "string_false": "No es provisión",
                                "hover_false": "Provisión"
                                }}'/>
                </button>

                </div>
                </xpath>
                <xpath expr="//button[2]" position="attributes">
                    <attribute name="states">clc</attribute>
                </xpath>
                <xpath expr="//button[3]" position="attributes">
                    <attribute name="attrs">{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('clc','in_payment','paid','paid_all'))]}</attribute>
                </xpath>
                <xpath expr="/form/header/button[@name='action_invoice_open']" position="after">
                    <button name="valida_fac" type="object"   string="Validar presupuestal" style="background-color: #5da9dd; border-color:#5da9dd;" icon='fa-flag' class="oe_highlight" groups="account.group_account_invoice" 
                    attrs="{'invisible':['|',('state', '!=', 'draft')]}"/>
                </xpath>
                <xpath expr="/form/header/button[@name='action_invoice_open']" position="replace">
                   <button name="action_invoice_open" type="object"  string="Validar contable" style="background-color: #eaaf00; border-color:#eaaf00;" icon='fa-flag' class="oe_highlight" groups="account.group_account_invoice"
                    attrs="{'invisible':[('state', '!=', 'draft_pre')]}"/>
                </xpath>
                <xpath expr="/form/header/button[@name='action_invoice_open']" position="after">
                    <button name="button_open_ejercido_window" type="object"   string="Ejercer" class="oe_highlight" icon='fa-flag' groups="account.group_account_invoice" style="background-color: #eaaf00; border-color:#eaaf00;" 
                    attrs="{'invisible':['|','|',('clcs_count','=', 0),('state', 'in', ('draft','clc','paid','paid_all')),('remision','>',0)]}"/>
                    <button name="button_open_ejercido_remi_window" type="object"   string="Ejercer" class="oe_highlight" icon='fa-flag' groups="account.group_account_invoice" style="background-color: #eaaf00; border-color:#eaaf00;" 
                    attrs="{'invisible':['|','|',('clcs_count','=', 0),('state', 'in', ('draft','clc','paid','paid_all')),('origin_type', '=', 'PO')]}"/>
                </xpath>
                <xpath expr="/form/header/button[@name='action_invoice_open']" position="after">
                    <button name="print_clc_before" type="object" states="clc,paid,paid_all" string="Imprimir CLC" icon='fa-print' class="oe_highlight" groups="account.group_account_invoice"/>
                </xpath>
                <xpath expr="/form/header/field[@name='state']" position="before"  > 
                    <button name="button_open_pagado_window" type="object"  attrs="{'invisible':['|','|',('state', '!=', 'paid'),('origin_type', '=', 'RE')]}" string="Validar pago"  class="oe_highlight" style="background-color: #5da9dd; border-color:#5da9dd;" icon='fa-flag-checkered' />
                     <button name="button_open_pagado_remi_window" type="object"  attrs="{'invisible':['|','|',('state', '!=', 'paid'),('origin_type', '=', 'PO')]}" string="Validar pago"  class="oe_highlight" style="background-color: #5da9dd; border-color:#5da9dd;" icon='fa-flag-checkered' />
                </xpath>
                <xpath expr="/form/header/field[@name='state']" position="before"  > 
                    <button name="cancel_pago_compra" type="object" attrs="{'invisible':['|','|',('state', '!=', 'paid_all'),('origin_type', '=', 'RE')]}" string="Cancelar pago presupuestal" style="background-color: #d13c3c; border-color:#d13c3c;" class="oe_highlight" icon='fa-mail-reply' />
                    <button name="cancel_pago_rem_compra" type="object" attrs="{'invisible':['|','|',('state', '!=', 'paid_all'),('origin_type', '=', 'PO')]}" string="Cancelar pago presupuestal" style="background-color: #d13c3c; border-color:#d13c3c;" class="oe_highlight" icon='fa-mail-reply' />
                </xpath>
                <xpath expr="/form/header/field[@name='state']" position="before"  > 
                    <button name="cancel_ejercido_compra" type="object" attrs="{'invisible':['|','|',('state', '!=', 'paid'),('origin_type', '=', 'RE')]}" string="Cancelar ejercido presupuestal" style="background-color: #d13c3c; border-color:#d13c3c;" class="oe_highlight" icon='fa-mail-reply'/>
                    <button name="cancel_ejercido_rem_compra" type="object" attrs="{'invisible':['|','|',('state', '!=', 'paid'),('origin_type', '=', 'PO')]}" string="Cancelar ejercido presupuestal" style="background-color: #d13c3c; border-color:#d13c3c;" class="oe_highlight" icon='fa-mail-reply'/>
                </xpath>
                <xpath expr="/form/header/button[@name='button_open_ejercido_window']" position="after">
                    <button name="print_request_payment" type="object" states="open" string="Solicitud de Pago" icon='fa-print' class="oe_highlight"  groups="account.group_account_invoice"/>
                </xpath>
                <xpath expr="/form/header/field[@name='state']" position="replace">
                    <field name="state" widget="statusbar" statusbar_visible="draft_pre,draft,open,clc,paid,paid_all" />
                </xpath>
                <xpath expr="//field[@name='date_due']" position="after">
                    <field name="fecha_ejercido" string="Fecha de pago contable"  
                    invisible="1"  />
                    <field name="stateinvoice" style="visibility: hidden;" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='fecha_ejercido']" position="after">
                    <field name="fecha_pago" invisible="1" />
                </xpath>
                <xpath expr="//field[@name='date_invoice']" position="replace">
                    <field name="date_invoice"  attrs="{'invisible': [('stateinvoice', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='date_due']" position="after">
                    <field name="origin_type" invisible="1"/>
                    <field name="cuenta_prove" string="Cuenta de proveedor"  attrs="{'invisible': [('stateinvoice', '=', False)]}"/>
                    <field name="cuenta_prove2"  attrs="{'invisible': [('stateinvoice', '=', False)]}"/>
                    <field name="remision" attrs="{'invisible': [('origin_type', '=', 'PO')]}"/>
                </xpath>
                <notebook position="inside">
                    <page string="Presupuesto">
                        <group>
                            <group string="Presupuesto">
                                <field name="fondo_economico" attrs="{'required': [('type_invoice', '=', False)]}"/>
                                <field name="centro_gestor" attrs="{'required': [('type_invoice', '=', False)]}"/>
                                <field name="area_funcional" attrs="{'required': [('type_invoice', '=', False)]}"/>
                            </group>
                        </group>
                    </page>
                </notebook>
                   

                <xpath expr="//field[@name='reference']" position="replace">
                    <field name="reference" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='reference']" position="after">
                    <field name="reference_provedor" />
                    <field name="area_tb" />
                </xpath>
                
                <xpath expr="//field[@name='invoice_line_ids']" position="replace">
                <field name="invoice_line_ids" nolabel="1" widget="one2many_list" mode="tree,kanban" context="{'type': type, 'journal_id': journal_id, 'default_invoice_id': id}">
                                <tree string="Invoice Lines" editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="product_id"/>
                                    <field name="origin" invisible="1"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user"
                                        domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other')]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting"
                                        domain="[('company_id', '=', parent.company_id)]" invisible="1"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" invisible="1"/>
                                    <field name="partida_presupuestal"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one" invisible="1"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" context="{'type':parent.type}"
                                        domain="[('type_tax_use','=','sale'),('company_id', '=', parent.company_id)]" options="{'no_create': True}"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
                                <kanban class="o_kanban_mobile">
                                    <field name="product_id"/>
                                    <field name="price_subtotal"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <strong><span><t t-esc="record.product_id.value or 'None'"/></span></strong>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-8 text-muted">
                                                        <span><t t-esc="record.quantity.value"/> <t t-esc="record.uom_id.value"/></span>
                                                    </div>
                                                    <div class="col-xs-4 text-muted">
                                                        <span class="text-right"><t t-esc="record.price_subtotal.value"/></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                    </xpath>
                <xpath expr="//field[@name='tax_line_ids']" position="after">
                    <field name="asientos_contables" widget="one2many_list">
                    <tree string="Asientos de factura">
                        <field name="account_id" />
                        <field name="partner_id"/>
                        <field name="name"/>
                        <field name="debit"/>
                        <field name="credit"/>
                        <field name="date"/>
                    </tree>
                    </field>
                </xpath>
                
            </field>
        </record>

     <record id="view_account_type_search" model="ir.ui.view">
            <field name="name">account.account.type.search</field>
            <field name="model">account.account.type</field>
            <field name="arch" type="xml">
                <search string="Account Type">
                    <field name="name" filter_domain="['|', ('name','ilike',self), ('type','ilike',self)]" string="Account Type"/>
                </search>
            </field>
        </record>
        <record id="view_account_type_tree" model="ir.ui.view">
            <field name="name">account.account.type.tree</field>
            <field name="model">account.account.type</field>
            <field name="arch" type="xml">
                <tree string="Account Type">
                    <field name="name"/>
                    <field name="type"/>
                </tree>
            </field>
        </record>
        <record id="view_account_type_form" model="ir.ui.view">
            <field name="name">account.account.type.form</field>
            <field name="model">account.account.type</field>
            <field name="arch" type="xml">
                <form string="Account Type">
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="type"/>
                        </group>
                        <group>
                            <field name="include_initial_balance"/>
                        </group>
                    </group>
                    <separator string="Description"/>
                    <field name="note"/>
                </form>
            </field>
        </record>

        <record id="action_account_type_form" model="ir.actions.act_window">
            <field name="name">Account Types</field>
            <field name="res_model">account.account.type</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_type_search"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to define a new account type.
              </p><p>
                An account type is used to determine how an account is used in
                each journal. The deferral method of an account type determines
                the process for the annual closing. Reports such as the Balance
                Sheet and the Profit and Loss report use the category
                (profit/loss or balance sheet).
              </p>
            </field>
        </record>


      

         <record model="ir.ui.view" id="account_abstract2">
            <field name="name">account.payment.invoice.form</field>
            <field name="model">account.payment</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="account.view_account_payment_invoice_form"/>
            <field name="arch" type="xml">
                    <!-- <xpath expr="//field[@name='communication']" position="replace">
                        <field name="communication"  />
                    </xpath> -->
                    <xpath expr="//field[@name='communication']" position="after">
                        <field name="referencia" />
                    </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="account_view_move_tree2">
            <field name="name">account.supplier.payment.tree</field>
            <field name="model">account.payment</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="account.view_account_supplier_payment_tree"/>
            <field name="arch" type="xml">
                    <xpath expr="//field[@name='payment_date']" position="after">
                        <field name="communication" />
                    </xpath>
            </field>
        </record>

        <record id="view_account_type_form2" model="ir.ui.view">
            <field name="name">account.account.form</field>
            <field name="model">account.account</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="account.view_account_form"/>
            <field name="arch" type="xml">
                 <xpath expr="//field[@name='user_type_id']" position="after">
                        <field name="account_padre" />
                        <field name="tipo" />
                        <field name="nivel" />
                        <field name="account_presupuesto" />
                        <field name="usable" />
                    </xpath>
                    <xpath expr="//field[@name='deprecated']" position="after">
                     <button type="object"  name="cal_account" class="oe_stat_button" icon="fa-exchange" string="Calcular cuentas"></button>
                        <notebook colspan="4" invisible="1">
                            <page string="Cuantas hijo">
                                <field name="account_child" nolabel="1" widget="one2many_list" mode="tree,kanban">
                                    <tree string="Cuantas hijo" editable="bottom">
                                        <field name="account" />
                                    </tree>
                                </field> 
                            </page>
                        </notebook>
                    </xpath>
            </field>
        </record>

        <record id="view_partner_property_form_2" model="ir.ui.view">
            <field name="name">res.partner.property.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="account.view_partner_property_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='property_account_payable_id']" position="replace">
                        <field name="property_account_payable_id"
                         />       
                </xpath>
                <xpath expr="//div[@name='button_box']" position="after">
                    <div class="oe_button_box" name="button_box">
                    <button type="object"  name="view_remisiones" class="oe_stat_button" icon="fa-exchange">
                        <field name="remisiones_count" widget="statinfo" />
                    </button>
                    </div>
                    </xpath>
            </field>
        </record>

        <!-- Se añade filtro por año y agrupacion por tipo de asiento a Asientos contables-->
        <record id="search_view_move_filter" model="ir.ui.view">
            <field name="name">account.move.select</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_account_move_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='misc_filter']" position="replace">
                    <!-- Filtrado-->
                    <separator/>
                        <filter string="Año" 
                            name="filter_by_ejercicio"
                            domain="[('date', 'like', ((context_today().strftime('%Y'))))]"
                        />
                        <!-- Agrupacion -->
                        <filter string="Tipo de Diario" 
                            name="group_by_diario"
                            context="{'group_by':['journal_id']}"
                        />
                    <separator/>
                </xpath>
            </field>
        </record>
        <!-- Si heredan acciones deben llamarse igual respecto al modulo donde existe-->
        <record id="account.action_move_journal_line" model="ir.actions.act_window">
            <field name="inherit_id" ref="account.action_move_journal_line"/>
            <field name="name">Registro de Diarios</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="account.view_move_tree"/>
            <field name="search_view_id" ref="account.view_account_move_filter"/>
            <field name="context">{'search_default_filter_by_ejercicio': 1, 'search_default_group_by_diario':1}</field>
        </record>

        <!-- Se añade filtro por año en Pagos de Compras-->
        <record id="search_view_account_payment_search" model="ir.ui.view">
            <field name="name">account.payment.search</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_search"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='state_draft']" position="before">
                    <!-- Filtrado-->
                    <separator/>
                        <filter string="Año"
                            name="filter_by_ejercicio"
                            domain="[('payment_date', 'like', ((context_today().strftime('%Y'))))]"
                        />
                    <separator/>
                </xpath>
            </field>
        </record>
        <record id="account.action_account_payments_payable" model="ir.actions.act_window">
            <field name="name">Payments</field>
            <field name="res_model">account.payment</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="context">{'search_default_filter_by_ejercicio': 1, 'default_payment_type': 'outbound', 'default_partner_type': 'supplier'}</field>
            <field name="domain">[('partner_type', '=', 'supplier')]</field>
            <field name="view_id" ref="account.view_account_supplier_payment_tree"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  Click to register a payment
                </p><p>
                  Payments are used to register liquidity movements (send, collect or transfer money).
                  You can then process those payments by your own means or by using installed facilities.
                </p>
            </field>
        </record>

        <!-- Se añade filtro por año en Facturas de proveedor-->
        <record id="search_view_account_invoice_filter" model="ir.ui.view">
            <field name="name">account.invoice.select</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.view_account_invoice_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='draft']" position="before">
                    <!-- Filtrado-->
                    <separator/>
                        <filter string="Año"
                            name="filter_by_ejercicio"
                            domain="[('date_invoice', 'like', ((context_today().strftime('%Y'))))]"
                        />
                    <separator/>
                </xpath>
            </field>
        </record>
        <record id="account.action_invoice_tree2" model="ir.actions.act_window">
            <field name="name">Vendor Bills</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','in',('in_invoice', 'in_refund'))]</field>
            <field name="context">{'search_default_filter_by_ejercicio': 1, 'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to record a new vendor bill.
              </p><p>
                You can control the invoice from your vendor according to
                what you purchased or received.
              </p>
            </field>
        </record>

        <!-- Se añade filtro por año en Salidas de inventario-->
        <record id="search_stock_scrap_search_view" model="ir.ui.view">
            <field name="name">stock.scrap.search</field>
            <field name="model">stock.scrap</field>
            <field name="inherit_id" ref="stock.stock_scrap_search_view"/>
            <field name="arch" type="xml">
                <search>
                    <!-- Filtrado-->
                    <separator/>
                        <filter string="Año"
                            name="filter_by_ejercicio"
                            domain="[('create_date', 'like', ((context_today().strftime('%Y'))))]"
                        />
                    <separator/>
                </search>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_stock_scrap">
            <field name="name">Scrap</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.scrap</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_filter_by_ejercicio': 1}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to scrap products.
              </p><p>
                Products you scrap will be removed from the stock and moved to a specific scrap location, for reporting purposes.
              </p>
            </field>
        </record>

        <!-- Se añade filtro por año en Pedidos de compra-->
        <record id="search_view_purchase_order_filter" model="ir.ui.view">
            <field name="name">request.quotation.select</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.view_purchase_order_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='not_invoiced']" position="before">
                    <!-- Filtrado-->
                    <separator/>
                        <filter string="Año"
                            name="filter_by_ejercicio"
                            domain="[('date_order', 'like', ((context_today().strftime('%Y'))))]"
                        />
                    <separator/>
                </xpath>
            </field>
        </record>
        <record id="purchase.purchase_form_action" model="ir.actions.act_window">
            <field name="name">Purchase Orders</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">purchase.order</field>
            <field name="view_mode">tree,kanban,form,pivot,graph,calendar</field>
            <field name="context">{'search_default_filter_by_ejercicio': 1, 'search_default_todo':1, 'show_purchase': True}</field>
            <field name="domain">[('state','not in',('draft','sent', 'confirmed'))]</field>
            <field name="search_view_id" ref="purchase.view_purchase_order_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a quotation that will be converted into a purchase order. 
              </p><p>
                Use this menu to search within your purchase orders by
                references, vendor, products, etc. For each purchase order,
                you can track the related discussion with the vendor, control
                the products received and control the vendor bills.
              </p>
            </field>
        </record>


        <record id="action_cierre_ano_move_form" model="ir.actions.act_window">
            <field name="name">Asiento contable</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="wizard_cierre_ejercicio_form"/></record>
        
        
        <record id="action_cierre_ano_move" model="ir.actions.act_window">
        <field name="name">Asiento contable</field>
        <field name="res_model">account.move</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        </record>


        <!-- Comentario en la Views -->
<record id="view_tjacdmx_cuentas_cierre_ejercicio_form" model="ir.ui.view">
    <field name="name">tjacdmx.cuentas_cierre_ejercicio.form</field>
    <field name="model">tjacdmx.cuentas_cierre_ejercicio</field>
    <field name="arch" type="xml">
        <form string="Listado de cuentas">
            <header>
            
            </header>
            <sheet string="cuenta">
                <group col="4">
                    <field name="cuenta"/>
                    <field name="state"/>
                </group>
            </sheet>
            <div  class = "oe_chatter" >
                <field  name = "message_follower_ids"  widget ="mail_followers" /> 
                <field  name = "message_ids"  widget = "mail_thread" /> 
            </div> 
        </form>
    </field>
</record>
<record id="view_tjacdmx_cuentas_cierre_ejercicio_tree" model="ir.ui.view">
    <field name="name">tjacdmx.cuentas_cierre_ejercicio.tree</field>
    <field name="model">tjacdmx.cuentas_cierre_ejercicio</field>
    <field name="arch" type="xml">
        <tree >
            <field name="cuenta"/>
            <field name="state"/>
        </tree>
    </field>
</record>

    <act_window
            id="act_pres_cuentas_cierre_ejercicio"
            name="Cuentas de cierre"
            res_model="tjacdmx.cuentas_cierre_ejercicio"
            src_model="tjacdmx.cuentas_cierre_ejercicio"/>
            
    <record id="action_cuentas_cierre_ejercicio" model="ir.actions.act_window">
            <field name="name">Cuentas de cierre</field>
            <field name="res_model">tjacdmx.cuentas_cierre_ejercicio</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tjacdmx_cuentas_cierre_ejercicio_tree"/>
           
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click para agregar cuenta de cierre.
              </p>
            </field>
        </record>

    <record id="action_cuentas_cierre_ejercicio_form" model="ir.actions.act_window">
            <field name="name">CLC</field>
            <field name="res_model">tjacdmx.cuentas_cierre_ejercicio</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tjacdmx_cuentas_cierre_ejercicio_form"/>
        
    </record>
    <menuitem 
		id="menu_wizard_cierre_ejercicio_cuentas"
		name="Cuentas de cierre"
		sequence="20"
		action="action_cuentas_cierre_ejercicio"
		parent="account.menu_finance_reports"
		/>

    </data>
</odoo>
